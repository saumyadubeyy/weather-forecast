{"version":3,"sources":["Weather.js","App.js","index.js"],"names":["Weather","useState","search","setSearch","data","setData","unit","setUnit","cityName","setCityName","weather","setWeather","sys","setSys","err","setErr","showUnit","setShowUnit","fetchData","e","a","preventDefault","url","process","fetch","response","json","name","main","window","innerWidth","size","setSize","checkSize","useEffect","addEventListener","removeEventListener","time_sunrise","Date","sunrise","toLocaleTimeString","timeZone","hour12","hour","minute","time_sunset","sunset","date","moment","format","time","className","onSubmit","type","placeholder","maxLength","style","textTransform","onChange","target","value","checked","src","icon","alt","description","temp","feels_like","temp_min","temp_max","textAlign","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.be8cbc82.chunk.js","sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport moment from 'moment'\r\nimport './Weather.css'\r\n\r\nconst API_KEY = process.env.REACT_APP_WEATHER_API_KEY\r\n\r\nconst Weather = () => {\r\n\r\n    const [search, setSearch] = useState('')\r\n    const [data, setData] = useState('')\r\n    const [unit, setUnit] = useState('imperial')\r\n    const [cityName, setCityName] = useState('')\r\n    const [weather, setWeather] = useState('')\r\n    const [sys, setSys] = useState('')\r\n    const [err, setErr] = useState(false)\r\n    let [showUnit, setShowUnit] = useState('')\r\n\r\n    \r\n\r\n    const fetchData = async (e) => {\r\n        e.preventDefault();\r\n        try{\r\n            const url = `https://api.openweathermap.org/data/2.5/weather?q=${search}&units=${unit}&appid=${API_KEY}`\r\n            const response = await fetch(url)\r\n            const data = await response.json()\r\n            setCityName(data.name)\r\n            setWeather(data.weather[0])\r\n            setSys(data.sys)\r\n            setData(data.main)             \r\n            if(unit===\"imperial\"){\r\n                setShowUnit(\"F\")\r\n            } else{\r\n                setShowUnit(\"C\")\r\n            }\r\n        } catch(error){\r\n            setErr(true)\r\n        }            \r\n    }\r\n\r\n    const [size, setSize] = useState(window.innerWidth);\r\n    const checkSize = () => {\r\n        setSize(window.innerWidth);\r\n    };\r\n\r\n    useEffect(() => {\r\n        window.addEventListener(\"resize\", checkSize);\r\n        return () => {\r\n        window.removeEventListener(\"resize\", checkSize);\r\n        };\r\n    });\r\n\r\n\r\n    const sunrise = new Date(sys.sunrise *1000) ;\r\n    const time_sunrise =  sunrise.toLocaleTimeString({},\r\n        {timeZone:'Asia/Kolkata',hour12:true,hour:'numeric',minute:'numeric'}\r\n      );\r\n    \r\n    const sunset = new Date(sys.sunset *1000) ;\r\n    const time_sunset =  sunset.toLocaleTimeString({},\r\n        {timeZone:'Asia/Kolkata',hour12:true,hour:'numeric',minute:'numeric'}\r\n      );\r\n\r\n    \r\n    const date = moment(new Date()).format('DD MMMM YYYY')\r\n    const time = moment().format(\"h:mm A\")\r\n    \r\n    \r\n\r\n    return (\r\n        <div >  \r\n            <h2>Weather Forecast</h2>        \r\n            <div className=\"main\">\r\n                <form onSubmit={fetchData}>\r\n                    <div>\r\n                        <input \r\n                            type=\"search\"\r\n                            placeholder=\"Enter City\"\r\n                            maxLength=\"20\"\r\n                            style={{textTransform: 'capitalize'}}\r\n                            onChange={(e) =>setSearch(e.target.value) }\r\n                        />\r\n                    </div>\r\n                    <label className=\"radio\"> \r\n                        <input \r\n                            type=\"radio\"\r\n                            name=\"units\"\r\n                            checked={unit === \"imperial\"}\r\n                            value=\"imperial\"\r\n                            onChange={(e) => setUnit(e.target.value)}\r\n                        /> Fahrenheit\r\n                    </label>\r\n                    <label className=\"radio\">\r\n                        <input\r\n                            type=\"radio\"\r\n                            name=\"units\"\r\n                            checked={unit === \"metric\"}\r\n                            value=\"metric\"\r\n                            onChange={(e) => setUnit(e.target.value)}\r\n                            />\r\n                        Celcius\r\n                    </label>\r\n                        <button type=\"submit\" className=\"btn\">Get Forecast</button>             \r\n                </form>\r\n            </div>\r\n            \r\n                            \r\n            <div className=\"data\">\r\n                <h4 className=\"date\">{date}, {time}</h4>\r\n            {\r\n                !cityName? (\r\n                    <h3 className= { err ? \"blink\" : \"\"} style={{textAlign: \"center\"}}>Enter valid city name</h3>\r\n                ):\r\n                (\r\n                    <div className=\"forecast clear\">\r\n                        <h2 className=\"heading\">{cityName}</h2>\r\n                        <div className=\"icon\" >\r\n                            <img src={`https://openweathermap.org/img/w/${weather.icon}.png`} alt=\"icon\"/> \r\n                            <h3 className=\"margin size\" style={{textTransform: 'capitalize'}}>{weather.description}</h3>\r\n                        </div>\r\n                        <div className=\"temp\">\r\n                            <h3 className=\"margin mainTemp\">{data.temp} 째{showUnit}</h3>\r\n                            <h4 className=\"margin size screen\">Feels like {data.feels_like} 째{showUnit}</h4>\r\n                        </div>\r\n                        <div className=\"minmax\">\r\n                            <h4 className=\"margin\">Min temperature: {data.temp_min} 째{showUnit}</h4>\r\n                            <h4 className=\"margin\">Max temperature: {data.temp_max} 째{showUnit}</h4>\r\n                        </div>\r\n                        <div>\r\n                            <h3 className=\"margin\">Sunrise: {time_sunrise} <span> {size <= 420 ? <br /> : \"\"}Sunset: {time_sunset}</span></h3>\r\n                        </div>             \r\n                    </div>\r\n                )\r\n            }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Weather\r\n","import React from 'react'\nimport './App.css'\nimport Weather from './Weather'\n\n\nconst App = () => {\n  return (\n    <div className=\"container\">\n      <Weather />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}